<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Air Hockey Solitaire</title>
  <link rel="stylesheet" href="./style.css" />
  <meta name="theme-color" content="#0b0f14" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="title">Air Hockey Solitaire</div>
      <div class="subtitle">Klondike - 1 draw - timed</div>
    </div>

    <div class="hud">
      <div class="moves" id="moves">Moves: 0</div>
      <div class="timer" id="timer">00:00</div>
      <button class="btn" id="undoBtn" title="Undo last move">Undo</button>
      <button class="btn" id="autoBtn" title="Auto-finish to foundations when safe">Auto</button>
      <button class="btn" id="newGameBtn" title="New game">New Game</button>
      <button class="btn" id="settingsBtn" title="Settings">⚙︎</button>
    </div>
  </header>

  <main class="table" id="table">
    <section class="row top">
      <div class="pile-group left">
        <div class="pile-wrap">
          <div class="pile-label">Stock</div>
          <div class="pile stock" id="stock" data-pile="stock" aria-label="Stock pile"></div>
        </div>
        <div class="pile-wrap">
          <div class="pile-label">Waste</div>
          <div class="pile waste" id="waste" data-pile="waste" aria-label="Waste pile"></div>
        </div>
      </div>

      <div class="pile-group right">
        <div class="pile-wrap">
          <div class="pile-label">♠</div>
          <div class="pile foundation" id="foundation-S" data-pile="foundation" data-suit="S" aria-label="Spades foundation"></div>
        </div>
        <div class="pile-wrap">
          <div class="pile-label">♥</div>
          <div class="pile foundation" id="foundation-H" data-pile="foundation" data-suit="H" aria-label="Hearts foundation"></div>
        </div>
        <div class="pile-wrap">
          <div class="pile-label">♦</div>
          <div class="pile foundation" id="foundation-D" data-pile="foundation" data-suit="D" aria-label="Diamonds foundation"></div>
        </div>
        <div class="pile-wrap">
          <div class="pile-label">♣</div>
          <div class="pile foundation" id="foundation-C" data-pile="foundation" data-suit="C" aria-label="Clubs foundation"></div>
        </div>
      </div>
    </section>

    <section class="row tableau" id="tableau">
      <!-- 7 columns injected by JS -->
    </section>
  </main>

  <div class="settings hidden" id="settings">
    <div class="settings-card">
      <div class="settings-head">
        <div class="settings-title">Settings</div>
        <button class="btn" id="closeSettingsBtn">Close</button>
      </div>
      
      <div class="settings-block">
        <div class="settings-label">Sound</div>
        <label class="check"><input type="checkbox" id="soundMaster"> Enable sound</label>
        <label class="check"><input type="checkbox" id="soundShuffle"> Shuffle</label>
        <label class="check"><input type="checkbox" id="soundPlace"> Place</label>
        <label class="check"><input type="checkbox" id="soundWin"> Win</label>
      </div>

      <div class="settings-block">
        <div class="settings-label">Card Back</div>

        <select id="backSelect" class="select"></select>
        <div class="settings-help">Drop new PNGs into cards/backs to add more.</div>
      </div>
    </div>
  </div>


  <!-- Win overlay -->
  <div class="overlay hidden" id="winOverlay" role="dialog" aria-modal="true">
    <canvas id="confettiCanvas"></canvas>
    <div class="win-card">
      <div class="win-title">You won</div>
      <div class="win-sub">Nice hands, Pete.</div>
      <div class="win-actions">
        <button class="btn primary" id="playAgainBtn">Play Again</button>
      </div>
    </div>
  </div>

  <script src="./cards/backs/backs.js"></script>
  <script src="./main.js"></script>
</body>
</html>
